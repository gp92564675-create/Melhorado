
<div class="space-y-6 animate-fade-in">
  <h2 class="text-3xl font-bold text-white">Histórico de Operações</h2>

  <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full text-sm text-left text-gray-400">
        <thead class="text-xs text-gray-300 uppercase bg-gray-700">
          <tr>
            <th scope="col" class="px-6 py-3">Ativo</th>
            <th scope="col" class="px-6 py-3">Tipo</th>
            <th scope="col" class="px-6 py-3">Valor</th>
            <th scope="col" class="px-6 py-3">Resultado</th>
            <th scope="col" class="px-6 py-3">Lucro/Perda</th>
            <th scope="col" class="px-6 py-3">Data</th>
          </tr>
        </thead>
        <tbody>
          @if (tradeHistory().length === 0) {
            <tr>
              <td colspan="6" class="px-6 py-8 text-center text-gray-500">Nenhuma operação no histórico.</td>
            </tr>
          } @else {
            @for (trade of tradeHistory(); track trade.id) {
              <tr class="bg-gray-800 border-b border-gray-700 hover:bg-gray-700/50">
                <th scope="row" class="px-6 py-4 font-medium text-white whitespace-nowrap">{{ trade.asset }}</th>
                <td class="px-6 py-4">
                  <span 
                    class="font-bold"
                    [class.text-green-400]="trade.type === 'CALL'"
                    [class.text-red-400]="trade.type === 'PUT'">
                    {{ trade.type }}
                  </span>
                </td>
                <td class="px-6 py-4">{{ trade.amount | currency:'USD':'symbol':'1.2-2' }}</td>
                <td class="px-6 py-4">
                  <span 
                    class="px-2 py-1 text-xs font-semibold rounded-full"
                    [class.bg-green-500/20]="trade.result === 'WIN'"
                    [class.text-green-400]="trade.result === 'WIN'"
                    [class.bg-red-500/20]="trade.result === 'LOSS'"
                    [class.text-red-400]="trade.result === 'LOSS'">
                    {{ trade.result }}
                  </span>
                </td>
                <td class="px-6 py-4 font-bold" [class.text-green-400]="trade.profit > 0" [class.text-red-400]="trade.profit < 0">
                  {{ trade.profit | currency:'USD':'symbol':'1.2-2' }}
                </td>
                <td class="px-6 py-4">{{ trade.timestamp | date:'dd/MM/yy HH:mm' }}</td>
              </tr>
            }
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
